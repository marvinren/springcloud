<div class="right-editor-wrap">
    <div class="card border-0 editor-head">
        <div class="modal-header border-0 p-0">
            <a class="btn iconfont icon-back rolate180 flipx pt-1 pb-1 pl-2 pr-2" (click)="_onCancel()"></a>
        </div>
        <div class="card-header text-headline border-0 bg-transparent py-0 relative">
            <h6 class="border-theme border-bottom px-0 py-2 m-0 text-headline">组织机构信息</h6>
            <div class="absolute-top-right pr-3">
                <button class="btn btn-sm btn-primary border-radius hand" (click)="addOrg(form)"
                        *ngIf="!org.organize_id && !org.readonly"
                        [class.btn-danger]="!form.valid" [disabled]="!form.valid">新&#12288;增
                </button>
                <button class="btn btn-sm btn-primary border-radius hand" (click)="editOrg(form)"
                        *ngIf="org.organize_id && !org.readonly"
                        [class.btn-danger]="!form.valid" [disabled]="!form.valid">修&#12288;改
                </button>
                <button class="btn btn-sm border-radius hand" (click)="_onCancel()" *ngIf="!org.readonly">返&#12288;回</button>
            </div>
        </div>
    </div>
    <div class="editor-content" aiScrollBar [alwaysShow]="true">
        <form name="form" #form="ngForm">
            <div class="form-group form-group-sm row">
                <label class="col-form-label col-form-label-sm col-2">机构名称</label>
                <div class="col-8">
                    <input class="form-control form-control-sm" type="text" name="organize_name" maxlength="10"
                           required [(ngModel)]="org.organize_name" placeholder="机构名称" *ngIf="!org.readonly">
                    <span class="form-control form-control-sm form-border-bottom"  *ngIf="org.readonly" >{{org.organize_name}}</span>
                </div>
            </div>
            <div class="form-group form-group-sm row">
                <label class="col-form-label col-form-label-sm col-2">机构编号</label>
                <div class="col-8">
                    <input class="form-control form-control-sm" type="text" name="code" maxlength="10"
                           [(ngModel)]="org.code" placeholder="系统自动生成" *ngIf="!org.readonly" readonly>
                    <span class="form-control form-control-sm form-border-bottom"  *ngIf="org.readonly" >{{org.code}}</span>
                </div>
            </div>
            <div class="form-group form-group-sm row">
                <label class="col-form-label col-form-label-sm col-2">类型</label>
                <div class="col-3">
                    <input type="hidden" name="org_type" [(ngModel)]="org.org_type" required>
                    <ai-system-org-type [org]="org" *ngIf="!org.readonly"></ai-system-org-type>
                    <span class="form-control form-control-sm form-border-bottom"  *ngIf="org.readonly" >{{org.org_type | orgPipe}}</span>
                </div>
                <label class="col-form-label col-form-label-sm col-2">状态</label>
                <div class="col-3">
                    <select class="form-control form-control-sm" name="state" required [(ngModel)]="org.state" *ngIf="!org.readonly">
                        <option value=1>正常</option>
                        <option value=0>注销</option>
                    </select>
                    <span class="form-control form-control-sm form-border-bottom" *ngIf="org.readonly" >{{org.state | statePipe}}</span>
                </div>
            </div>
            <div class="form-group form-group-sm row">
                <label class="col-form-label col-form-label-sm col-2">备注</label>
                <div class="col-8">
                    <textarea class="form-control form-control-sm" rows="5" name="notes" maxlength="200"
                              [(ngModel)]="org.notes" placeholder="备注" *ngIf="!org.readonly"></textarea>
                    <span class="form-control form-control-sm form-border-bottom" *ngIf="org.readonly" >{{org.notes}}</span>
                </div>
            </div>
        </form>
    </div>
    <div class="fixed-bottom-right text-right p-1">
        <a class="btn btn-primary btn-round iconfont icon-edit" *ngIf="org.readonly" (click)="org.readonly = false;"
           title="编辑"></a>
    </div>
</div>